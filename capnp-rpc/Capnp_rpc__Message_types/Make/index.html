<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (capnp-rpc.Capnp_rpc__Message_types.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">capnp-rpc</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Capnp_rpc__Message_types.Make</span></h1></header><h3 class="heading">Parameters</h3><div><div class="spec argument" id="argument-2-T"><a href="#argument-2-T" class="anchor"></a><div class="def argument"><code><a href="argument-2-T/index.html">T</a> : <a href="../index.html#module-type-TABLE_TYPES">TABLE_TYPES</a></code></div><div class="doc"></div></div><div class="spec argument" id="argument-1-Network"><a href="#argument-1-Network" class="anchor"></a><div class="def argument"><code><a href="argument-1-Network/index.html">Network</a> : <a href="../../Capnp_rpc/S/index.html#module-type-NETWORK_TYPES">Capnp_rpc.S.NETWORK_TYPES</a></code></div><div class="doc"></div></div></div><h3 class="heading">Signature</h3><p>This module defines the information in the messages that goes over the wire in one direction.
The types are from the point of view of the sender, as in the Cap'n Proto RPC specification.</p><div class="spec include"><div class="doc"></div><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="index.html#argument-2-T">T</a></code></span></summary><p>For the unit tests it is convenient to pass in the types of table indexes.
This allows the tests to make both ends of a connection, with the types
matched up.</p><div class="spec module" id="module-QuestionId"><a href="#module-QuestionId" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>QuestionId = <a href="argument-2-T/index.html#module-QuestionId">T.QuestionId</a></code></div><div class="doc"></div></div><div class="spec module" id="module-AnswerId"><a href="#module-AnswerId" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>AnswerId = <a href="argument-2-T/index.html#module-AnswerId">T.AnswerId</a></code></div><div class="doc"></div></div><div class="spec module" id="module-ImportId"><a href="#module-ImportId" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>ImportId = <a href="argument-2-T/index.html#module-ImportId">T.ImportId</a></code></div><div class="doc"></div></div><div class="spec module" id="module-ExportId"><a href="#module-ExportId" class="anchor"></a><div class="def module"><code><span class="keyword">module </span>ExportId = <a href="argument-2-T/index.html#module-ExportId">T.ExportId</a></code></div><div class="doc"></div></div></details></div><div class="spec type" id="type-third_party_desc"><a href="#type-third_party_desc" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>third_party_desc</code><code><span class="keyword"> = </span><a href="argument-1-Network/index.html#type-third_party_cap_id">Network.third_party_cap_id</a><span class="keyword"> * </span><a href="index.html#module-ExportId">ExportId</a>.t</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-message_target"><a href="#type-message_target" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>message_target</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-message_target.ReceiverHosted" class="anchored"><td class="def constructor"><a href="#type-message_target.ReceiverHosted" class="anchor"></a><code><span class="keyword">| </span></code><code>`ReceiverHosted<span class="keyword"> of </span><a href="index.html#module-ImportId">ImportId</a>.t</code></td></tr><tr id="type-message_target.ReceiverAnswer" class="anchored"><td class="def constructor"><a href="#type-message_target.ReceiverAnswer" class="anchor"></a><code><span class="keyword">| </span></code><code>`ReceiverAnswer<span class="keyword"> of </span><a href="index.html#module-QuestionId">QuestionId</a>.t<span class="keyword"> * </span><a href="argument-1-Network/Wire/index.html#module-Path">Network.Wire.Path</a>.t</code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-desc"><a href="#type-desc" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>desc</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-desc.message_target" class="anchored"><td class="def type"><a href="#type-desc.message_target" class="anchor"></a><code><span class="keyword">| </span></code><code><a href="index.html#type-message_target">message_target</a></code></td></tr><tr id="type-desc.None" class="anchored"><td class="def constructor"><a href="#type-desc.None" class="anchor"></a><code><span class="keyword">| </span></code><code>`None</code></td></tr><tr id="type-desc.SenderHosted" class="anchored"><td class="def constructor"><a href="#type-desc.SenderHosted" class="anchor"></a><code><span class="keyword">| </span></code><code>`SenderHosted<span class="keyword"> of </span><a href="index.html#module-ExportId">ExportId</a>.t</code></td></tr><tr id="type-desc.SenderPromise" class="anchored"><td class="def constructor"><a href="#type-desc.SenderPromise" class="anchor"></a><code><span class="keyword">| </span></code><code>`SenderPromise<span class="keyword"> of </span><a href="index.html#module-ExportId">ExportId</a>.t</code></td></tr><tr id="type-desc.ThirdPartyHosted" class="anchored"><td class="def constructor"><a href="#type-desc.ThirdPartyHosted" class="anchor"></a><code><span class="keyword">| </span></code><code>`ThirdPartyHosted<span class="keyword"> of </span><a href="index.html#type-third_party_desc">third_party_desc</a></code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-pp_desc"><a href="#val-pp_desc" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_desc : Format.formatter <span class="keyword">&#8209;&gt;</span> [&lt; `Local of &lt; pp : Format.formatter <span class="keyword">&#8209;&gt;</span> unit; .. &gt; | `None | `ReceiverAnswer of <a href="index.html#module-QuestionId">QuestionId</a>.t<span class="keyword"> * </span><a href="argument-1-Network/Wire/index.html#module-Path">Network.Wire.Path</a>.t | `ReceiverHosted of <a href="index.html#module-ImportId">ImportId</a>.t | `SenderHosted of <a href="index.html#module-ExportId">ExportId</a>.t | `SenderPromise of <a href="index.html#module-ExportId">ExportId</a>.t | `ThirdPartyHosted of <span class="type-var">'a</span> ] <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec type" id="type-send_results_to"><a href="#type-send_results_to" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>send_results_to</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-send_results_to.Caller" class="anchored"><td class="def constructor"><a href="#type-send_results_to.Caller" class="anchor"></a><code><span class="keyword">| </span></code><code>`Caller</code></td></tr><tr id="type-send_results_to.Yourself" class="anchored"><td class="def constructor"><a href="#type-send_results_to.Yourself" class="anchor"></a><code><span class="keyword">| </span></code><code>`Yourself</code></td></tr><tr id="type-send_results_to.ThirdParty" class="anchored"><td class="def constructor"><a href="#type-send_results_to.ThirdParty" class="anchor"></a><code><span class="keyword">| </span></code><code>`ThirdParty<span class="keyword"> of </span><a href="argument-1-Network/index.html#type-recipient_id">Network.recipient_id</a></code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-return"><a href="#type-return" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>return</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-return.Capnp_rpc.Error.t" class="anchored"><td class="def type"><a href="#type-return.Capnp_rpc.Error.t" class="anchor"></a><code><span class="keyword">| </span></code><code><a href="../../Capnp_rpc/Error/index.html#type-t">Capnp_rpc.Error.t</a></code></td></tr><tr id="type-return.Results" class="anchored"><td class="def constructor"><a href="#type-return.Results" class="anchor"></a><code><span class="keyword">| </span></code><code>`Results<span class="keyword"> of </span><a href="argument-1-Network/Wire/Response/index.html#type-t">Network.Wire.Response.t</a><span class="keyword"> * </span><a href="index.html#type-desc">desc</a> <a href="../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a></code></td></tr><tr id="type-return.ResultsSentElsewhere" class="anchored"><td class="def constructor"><a href="#type-return.ResultsSentElsewhere" class="anchor"></a><code><span class="keyword">| </span></code><code>`ResultsSentElsewhere</code></td></tr><tr id="type-return.TakeFromOtherQuestion" class="anchored"><td class="def constructor"><a href="#type-return.TakeFromOtherQuestion" class="anchor"></a><code><span class="keyword">| </span></code><code>`TakeFromOtherQuestion<span class="keyword"> of </span><a href="index.html#module-QuestionId">QuestionId</a>.t</code></td></tr><tr id="type-return.AcceptFromThirdParty" class="anchored"><td class="def constructor"><a href="#type-return.AcceptFromThirdParty" class="anchor"></a><code><span class="keyword">| </span></code><code>`AcceptFromThirdParty</code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-disembargo_request"><a href="#type-disembargo_request" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>disembargo_request</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-disembargo_request.Loopback" class="anchored"><td class="def constructor"><a href="#type-disembargo_request.Loopback" class="anchor"></a><code><span class="keyword">| </span></code><code>`Loopback<span class="keyword"> of </span><a href="index.html#type-message_target">message_target</a><span class="keyword"> * </span><a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></code></td></tr></table><code> ]</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-pp_return"><a href="#val-pp_return" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_return : Format.formatter <span class="keyword">&#8209;&gt;</span> [&lt; `AcceptFromThirdParty | `Cancelled | `Exception of <a href="../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a> | `Results of <span class="type-var">'a</span><span class="keyword"> * </span>[&lt; `Local of &lt; pp : Format.formatter <span class="keyword">&#8209;&gt;</span> unit; .. &gt; | `None | `ReceiverAnswer of <a href="index.html#module-QuestionId">QuestionId</a>.t<span class="keyword"> * </span><a href="argument-1-Network/Wire/index.html#module-Path">Network.Wire.Path</a>.t | `ReceiverHosted of <a href="index.html#module-ImportId">ImportId</a>.t | `SenderHosted of <a href="index.html#module-ExportId">ExportId</a>.t | `SenderPromise of <a href="index.html#module-ExportId">ExportId</a>.t | `ThirdPartyHosted of <span class="type-var">'b</span> ] <a href="../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a> | `ResultsSentElsewhere | `TakeFromOtherQuestion of <a href="index.html#module-QuestionId">QuestionId</a>.t ] <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_disembargo_request"><a href="#val-pp_disembargo_request" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_disembargo_request : <a href="index.html#type-disembargo_request">disembargo_request</a> Fmt.t</code></div><div class="doc"></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-t.Abort" class="anchored"><td class="def constructor"><a href="#type-t.Abort" class="anchor"></a><code><span class="keyword">| </span></code><code>`Abort<span class="keyword"> of </span><a href="../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a></code></td></tr><tr id="type-t.Bootstrap" class="anchored"><td class="def constructor"><a href="#type-t.Bootstrap" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bootstrap<span class="keyword"> of </span><a href="index.html#module-QuestionId">QuestionId</a>.t</code></td></tr><tr id="type-t.Call" class="anchored"><td class="def constructor"><a href="#type-t.Call" class="anchor"></a><code><span class="keyword">| </span></code><code>`Call<span class="keyword"> of </span><a href="index.html#module-QuestionId">QuestionId</a>.t<span class="keyword"> * </span><a href="index.html#type-message_target">message_target</a><span class="keyword"> * </span><a href="argument-1-Network/Wire/Request/index.html#type-t">Network.Wire.Request.t</a><span class="keyword"> * </span><a href="index.html#type-desc">desc</a> <a href="../../Capnp_rpc/RO_array/index.html#type-t">Capnp_rpc.RO_array.t</a><span class="keyword"> * </span><a href="index.html#type-send_results_to">send_results_to</a></code></td></tr><tr id="type-t.Finish" class="anchored"><td class="def constructor"><a href="#type-t.Finish" class="anchor"></a><code><span class="keyword">| </span></code><code>`Finish<span class="keyword"> of </span><a href="index.html#module-QuestionId">QuestionId</a>.t<span class="keyword"> * </span>bool</code></td></tr><tr id="type-t.Release" class="anchored"><td class="def constructor"><a href="#type-t.Release" class="anchor"></a><code><span class="keyword">| </span></code><code>`Release<span class="keyword"> of </span><a href="index.html#module-ImportId">ImportId</a>.t<span class="keyword"> * </span>int</code></td></tr><tr id="type-t.Disembargo_request" class="anchored"><td class="def constructor"><a href="#type-t.Disembargo_request" class="anchor"></a><code><span class="keyword">| </span></code><code>`Disembargo_request<span class="keyword"> of </span><a href="index.html#type-disembargo_request">disembargo_request</a></code></td></tr><tr id="type-t.Disembargo_reply" class="anchored"><td class="def constructor"><a href="#type-t.Disembargo_reply" class="anchor"></a><code><span class="keyword">| </span></code><code>`Disembargo_reply<span class="keyword"> of </span><a href="index.html#type-message_target">message_target</a><span class="keyword"> * </span><a href="../EmbargoId/index.html#type-t">EmbargoId.t</a></code></td></tr><tr id="type-t.Return" class="anchored"><td class="def constructor"><a href="#type-t.Return" class="anchor"></a><code><span class="keyword">| </span></code><code>`Return<span class="keyword"> of </span><a href="index.html#module-AnswerId">AnswerId</a>.t<span class="keyword"> * </span><a href="index.html#type-return">return</a><span class="keyword"> * </span>bool</code></td></tr><tr id="type-t.Resolve" class="anchored"><td class="def constructor"><a href="#type-t.Resolve" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resolve<span class="keyword"> of </span><a href="index.html#module-ExportId">ExportId</a>.t<span class="keyword"> * </span>(<a href="index.html#type-desc">desc</a>, <a href="../../Capnp_rpc/Exception/index.html#type-t">Capnp_rpc.Exception.t</a>) Pervasives.result</code></td></tr></table><code> ]</code><code></code></div><div class="doc"><p>A message sent over the network.</p></div></div><div class="spec val" id="val-with_qid_tag"><a href="#val-with_qid_tag" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>with_qid_tag : Logs.Tag.set <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> Logs.Tag.set</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_results_to"><a href="#val-pp_results_to" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_results_to : Format.formatter <span class="keyword">&#8209;&gt;</span> [&lt; `Caller | `ThirdParty of <span class="type-var">'a</span> | `Yourself ] <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-pp_recv"><a href="#val-pp_recv" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp_recv : (Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="argument-1-Network/Wire/Request/index.html#type-t">Network.Wire.Request.t</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> Fmt.t</code></div><div class="doc"><p>Describe message from the point of view of the receiver.</p></div></div></body></html>